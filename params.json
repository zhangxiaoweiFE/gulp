{
  "name": "Zhangxiaowei.GitHub.com",
  "tagline": "gulp那些事",
  "body": "### 安装gulp\r\nnpm install gulp -g\r\n安装本地环境\r\nnpm install gulp --save-dev\r\n\r\n### gulp 插件安装\r\nnpm install browser-sync gulp-compass gulp-sass gulp-rename gulp-jshint gulp-uglify gulp-concat gulp-imagemin gulp-cache gulp-connect gulp-minify-css gulp-sourcemaps gulp-notify gulp-livereload gulp-clean gulp-load-plugins gulp-rev-append gulp-make-css-url-version --save-dev​\r\n\r\nbrowser-sync 浏览器自动刷新\r\n\r\ngulp-compass 编译sass生成sprite图\r\n\r\ngulp-sass 编译sass\r\n\r\ngulp-rename 文件重命名\r\n\r\ngulp-imagemin 压缩图片\r\n\r\ngulp-cache 缓存，图片更改时只压缩未压缩过的图片\r\n\r\ngulp-clean 清空文件夹\r\n\r\n### 配置gulpfile.js\r\n`gulp.task('sass', function() {\r\n    return gulp.src('src/sass/*.scss')\r\n    .pipe(compass({\r\n        config_file: 'src/config.rb',\r\n        css: 'src/css',\r\n        sass: 'src/sass',\r\n        image: 'src/img'\r\n    }))\r\n    .pipe(gulp.dest('build/css/')) \r\n    .pipe(browserSync.stream());\r\n});`\r\n编译src/sass目录下的.scss文件，并将编译后的css文件输出到build/css目录下。sass文件有改变时浏览器自动刷新。运行： gulp sass\r\n\r\n`gulp.task('image', function() {\r\n    gulp.src('src/images/*.*')\r\n        .pipe(imagemin())\r\n        .pipe(gulp.dest('./build/images/'))\r\n        .pipe(browserSync.stream());\r\n});`\r\n把src/images下的文件压缩后输出到build/images目录下。 运行： gulp image\r\n\r\n`gulp.task('watch',function(){\r\n    gulp.watch('src/*.html');\r\n    gulp.watch('src/sass/*.scss',['sass']);\r\n    gulp.watch('build/images/*.*',['image']);\r\n});`\r\nwatch src目录下的html，scss，image文件。运行： gulp watch\r\n\r\n`gulp.task('serve', ['sass'], function() {\r\n    browserSync.init({\r\n        server: \"src/\"\r\n    })\r\n    gulp.watch(\"src/sass/*.scss\", ['sass'])\r\n    gulp.watch(\"src/*.html\").on('change', reload);\r\n});`\r\n监听sass任务和html文件，有改变是自动刷新浏览器。运行： gulp serve\r\n\r\n`var config = {\r\n    ftp: '\\\\\\\\your\\\\path\\\\'\r\n}\r\n//ftp\r\ngulp.task('ftp', function() {\r\n    return gulp.src('./build/**/*')\r\n        .pipe(gulp.dest(config.ftp));\r\n})`\r\n将代码上传到所配置的ftp地址。运行：gulp ftp\r\n\r\n...\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}